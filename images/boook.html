<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <title>المكتبة</title>
    
    <style>
        :root {
            --primary-color: #00E7C8;
            --secondary-color: #202020;
            --background-color: #ffffff;
            --text-color: #202020;
        }

        body {
            font-family: "Noto Kufi Arabic", sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }

        

        .container {
            max-width: 800px;
            width: 100%;
            padding: 20px;
            margin: 60px auto 0;
            box-sizing: border-box;
        }

        .book {
            display: flex;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            overflow: hidden;
            transition: box-shadow 0.3s ease;
        }

        .book:hover {
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .book-image {
            width: 200px;
            height: auto;
            
        }
         @media (max-width: 600px) {
             .book-image {
            width: 200px;
            height: 160px;
            
        }
         }

        .book-details {
            padding: 20px;
            flex-grow: 1;
        }

        .book-title {
            font-size: 16px;
            color: var(--primary-color);
            margin: 0 0 10px;
        }

        .book-price {
            font-size: 14px;
            color: var(--second-color);
            margin: 0 0 15px;
            font-weight: 300;
        }

        .actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .add-to-cart,
        .free-download {
            background-color: rgba(0, 172, 163, 0.12);
            color: var(--primary-color);
            border: none;
            padding: 10px 20px;
            font-size: 11px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .add-to-cart:hover,
        .free-download:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .discount-code {
            font-size: 14px;
            color: var(--secondary-color);
            margin-right: 10px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
        }

        .modal-content {
            background-color: #fff;
            margin: 10% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 10px;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 1;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .close {
            color: #aaa;
            float: left;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
        }

        .form-field {
            margin-bottom: 15px;
        }

        .form-field label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-field input[type="text"],
        .form-field textarea,
        .form-field select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .payment-methods {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .payment-method {
            text-align: center;
            cursor: pointer;
        }

        .payment-method img {
            width: 100px;
            height: 100px;
            object-fit: contain;
        }

        .send-order-btn {
            background-color: rgba(0, 172, 163, 0.12);
            color: var(--primary-color);
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }

        .send-order-btn:hover {
            background-color: var(--secondary-color);
        }

        #confirmation {
            text-align: center;
            margin-top: 20px;
        }

        #confirmation img {
            width: 100px;
            height: 100px;
        }

        #screenshot-upload {
            display: none;
            margin-top: 15px;
        }

        /* Dark mode styles */
        body.dark-mode {
            --background-color: #1a1a1a;
            --text-color: #f0f0f0;
        }

        body.dark-mode .top-bar {
            background-color: rgba(0, 0, 0, 0.2);
        }

        body.dark-mode .book {
            background-color: #2c2c2c;
        }

        body.dark-mode .modal-content {
            background-color: #2c2c2c;
        }

        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }

            .book-image {
                width: 100px;
            }

            .book-title {
                font-size: 16px;
            }

            .book-price {
                font-size: 14px;
            }

            .add-to-cart,
            .free-download {
                font-size: 12px;
                padding: 8px 16px;
            }
        }
        #screenshot-upload {
    display: none; /* يبدأ مخفيًا */
    margin-top: 20px;
}

#screenshot-upload input[type="file"] {
    display: none; /* إخفاء حقل التحميل الأصلي */
}

.custom-file-upload {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 30px;
    border: 3px dashed #00ACA3;
    border-radius: 15px;
    background-color: #f1f5f9;
    cursor: pointer;
    transition: background-color 0.3s ease, border-color 0.3s ease;
    position: relative;
    text-align: center;
}

.custom-file-upload:hover {
    background-color: #e3f8f9;
    border-color: #009f9f;
}

.custom-file-upload::before {
    content: ''; /* أيقونة الكاميرا */
    font-size: 50px;
    color: #00ACA3;
    margin-bottom: 15px;
}

.custom-file-upload span {
    font-size: 16px;
    color: #555;
    font-weight: 500;
    display: block;
    max-width: 80%;
}

.custom-file-upload:hover span {
    color: #007d7d;
}

        
.logo {
    max-width: 102px; /* تحديد الحد الأقصى لعرض الشعار */
    z-index: 999; /* تحديد طبقة العرض */
    position: relative; /* تحديد موضع النسبي للشعار */
    margin-right:2px; /* إضافة مسافة على اليمين */
    margin:2px;
}

         .dark-mode .logo {
            content: url('/images /logo2.png'); /* استبدل بمسار اللوغو الليلي */
        }
 .top-bar {
            display: flex;
            justify-content: space-between;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            align-items: center;
            padding: 0 15px;
        }

        .top-bar .left-buttons {
            display: flex;
            gap: 10px;
        }
            button {
            padding: 10px 20px;
            font-family: "Noto Kufi Arabic", sans-serif;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background-color: rgba(0, 172, 163, 0.12);
            color: var(--primary-color);
            
            font-size: 16px;
            transition: background-color 0.3s, color 0.3s;
        }
    </style>
</head>
<body>    <div class="top-bar">
      <img src="/images /logo.png" alt="شعار الموقع" class="logo">
        <button class="night-mode-button" onclick="toggleNightMode()"><i class="fas fa-moon"></i></button>
        <button class="admin-button" onclick="showAdminLogin()"><i class="fas fa-user"></i></button>
        <button class="back-button" onclick="leavePage()"><i class="fas fa-chevron-left"></i></button>
    </div>

    <div class="container">
        <article class="book">
            <img src="/images /book1 [62D36D7].png" alt="صورة الكتاب" class="book-image">
            <div class="book-details">
                <h2 class="book-title">دليل الاقبــــال</h2><h5 class="fa fas- money">10000 MRO</h5>
                <div class="actions">
            <button class="add-to-cart" onclick="openModal()">أضف الى السلة +</button>
                </div>
          
            </div>
        </article>
  <article class="book">
            <img src="/images /book2 [469C79F].png" alt="صورة الكتاب" class="book-image">
            <div class="book-details">
                <h2 class="book-title">دلــيل الاقبال (PDF)</h2>
                <h6 class="book-price">(0 MRO) نسخة PDF من كتاب دليل الاقبال مجاني</h6>
                <div class="actions">
                    <a href="/images /AUD-20240628-WA0026.m4a" class="free-download">تحميل مجاني</a>
                </div>
            </div>
        </article>

        <article class="book">
            <img src="/images /qura [8E45563].png" alt="صورة الكتاب" class="book-image">
            <div class="book-details">
                <h2 class="book-title">القران الكريــــم</h2>
                <h6 class="book-price">(0 MRO) مصحف المدينة المنورة برواية ورش عن نافع. (100mb)</h6>
                <div class="actions">
                    <a href="/images /مصحف ورش.pdf" class="free-download">تحميل مجاني</a>
                </div>
            </div>
        </article>
        <!-- ... (باقي الكتب) ... -->
    </div>

    <div id="orderModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>معلومات الطلب</h2>
            <form id="orderForm">
                <div class="form-field">
                    <label for="fullName">الاسم الكامل:</label>
                    <input type="text" id="fullName" name="fullName" required>
                </div>
                <div class="form-field">
                    <label for="phoneNumber">رقم الهاتف:</label>
                    <input type="text" id="phoneNumber" name="phoneNumber" required pattern="[0-9]{8}">
                </div>
                <div class="form-field">
                    <label for="address">عنوان التوصيل:</label>
                    <textarea id="address" name="address" required></textarea>
                </div>
                <div class="form-field">
                    <label for="paymentMethod">طريقة الدفع:</label>
                    <select id="paymentMethod" name="paymentMethod" required onchange="toggleScreenshotUpload()">
                        <option value="cash">الدفع عند الاستلام</option>
                        <option value="bankily">بنكيلي</option>
                        <option value="sadad">السداد</option>
                        <option value="masrifi">مصرفي</option>
                    </select>
                </div>
                <div class="payment-methods">
                    <div class="payment-method" onclick="selectPaymentMethod('bankily')">
                        <img src="/images /benkili.png" alt="بنكيلي">

                    </div>
                    <div class="payment-method" onclick="selectPaymentMethod('sadad')">
                        <img src="/images /sedad.png" alt="السداد">

                    </div>
                    <div class="payment-method" onclick="selectPaymentMethod('masrifi')">
                        <img src="/images /masrivi.png" alt="مصرفي">
                    
                    </div>
                </div>
              
                
              <label for="screenshot"><div id="screenshot-upload" style="display: none;">
    <input type="file" id="screenshot" name="screenshot" accept="image/*">
    <div class="custom-file-upload">
        <h1>اضغط هنا لإضافة صورة</h1></div>
</div></label>
                <button type="submit" class="send-order-btn">إرسال الطلب</button>
            </form>
            <div id="confirmation" style="display:none">
                <p>تم إرسال طلبك بنجاح!</p>
                <img src="/images /true.png" alt="تأكيد" class="ggg">
                <p id="confirmationMessage"></p>
            </div>
        </div>
    </div>

<div class="container">
    <h2>كماليات</h2>

    <!-- منتج السجادة -->
    <article class="product">
        <img src="/images/sajada.png" alt="سجادة" class="product-image" onclick="showMoreImages('sajada')">
        <div class="product-details">
            <h2 class="product-title">سجادة صلاة</h2>
            <p class="product-price">3000 MRO</p>
            <div class="actions">
                <button class="add-to-cart">أضف إلى السلة +</button>
            </div>
        </div>
    </article>

    <!-- منتج المسبح الإلكتروني -->
    <article class="product">
        <img src="/images/misbah-electronic.png" alt="مسبح إلكتروني" class="product-image" onclick="showMoreImages('misbah-electronic')">
        <div class="product-details">
            <h2 class="product-title">مسبح إلكتروني</h2>
            <p class="product-price">2000 MRO</p>
            <div class="actions">
                <button class="add-to-cart">أضف إلى السلة +</button>
            </div>
        </div>
    </article>

    <!-- منتج المسبح العادي -->
    <article class="product">
        <img src="/images/misbah-normal.png" alt="مسبح عادي" class="product-image" onclick="showMoreImages('misbah-normal')">
        <div class="product-details">
            <h2 class="product-title">مسبح عادي</h2>
            <p class="product-price">1500 MRO</p>
            <div class="actions">
                <button class="add-to-cart">أضف إلى السلة +</button>
            </div>
        </div>
    </article>

    <!-- نافذة لعرض المزيد من الصور -->
    <div id="moreImagesModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalImageGallery"></div>
        </div>
    </div>
</div>



    <script>
        function leavePage() {
            window.location.href = "nousra.html";
        }

        function toggleNightMode() {
            document.body.classList.toggle("dark-mode");
            localStorage.setItem("darkMode", document.body.classList.contains("dark-mode"));
        }

        function openModal() {
            document.getElementById("orderModal").style.display = "block";
        }

        function closeModal() {
            document.getElementById("orderModal").style.display = "none";
        }

        function toggleScreenshotUpload() {
            var paymentMethod = document.getElementById("paymentMethod").value;
            var screenshotUpload = document.getElementById("screenshot-upload");
            screenshotUpload.style.display = (paymentMethod !== "cash") ? "block" : "none";
        }

        function selectPaymentMethod(method) {
            document.getElementById("paymentMethod").value = method;
            toggleScreenshotUpload();
        }

        document.getElementById("orderForm").onsubmit = function(event) {
            event.preventDefault();
            var paymentMethod = document.getElementById("paymentMethod").value;
            var confirmationMessage = "";

            if (paymentMethod === "cash") {
                confirmationMessage = "سيتم التواصل معك قريبًا لتأكيد الطلب وترتيب التوصيل.";
            } else {
                confirmationMessage = "سيتم التأكد من طلبك خلال 24 ساعة وستتلقى رسالة لاستلام الطلب.";
            }

            document.getElementById("orderForm").style.display = "none";
            document.getElementById("confirmation").style.display = "block";
            document.getElementById("confirmationMessage").textContent = confirmationMessage;

            // هنا يمكنك إرسال بيانات الطلب إلى حسابك في الموقع
            sendOrderToAdmin(event.target);

            setTimeout(closeModal, 5000); // إغلاق النافذة بعد 5 ثوان
        };

        function sendOrderToAdmin(form) {
    let formData = new FormData(form);

    fetch('send_order.php', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        if (data.status === 'success') {
            console.log('Order sent successfully');
        } else {
            console.error('Error sending order');
        }
    })
    .catch(error => {
        console.error('Error sending order:', error);
    });
}

    </script>
</body>
</html>